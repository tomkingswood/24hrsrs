---
import { Phone, Clock, Menu, X, Mail } from 'lucide-astro';

const navLinks = [
  { href: '/', label: 'Home', mobileLabel: 'Home' },
  { href: '/repairs', label: 'Repairs', mobileLabel: 'Repair Services' },
  { href: '/installations', label: 'Installations', mobileLabel: 'Install & Remove' },
  { href: '/servicing', label: 'Servicing', mobileLabel: 'Service' },
  { href: '/faqs', label: 'FAQs', mobileLabel: 'Questions' },
  { href: '/pricing', label: 'Pricing', mobileLabel: 'Prices' },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-white shadow-sm">
  <!-- Top contact bar -->
  <div class="bg-primary-700 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-wrap items-center justify-between py-2 text-sm">
        <div class="flex items-center gap-4 sm:gap-6">
          <a href="tel:01142347195" class="flex items-center gap-2 hover:text-primary-200 transition-colors">
            <Phone class="w-4 h-4" />
            <span class="hidden sm:inline">0114 2347195</span>
            <span class="sm:hidden">Landline</span>
          </a>
          <a href="tel:07835204800" class="flex items-center gap-2 hover:text-primary-200 transition-colors">
            <Phone class="w-4 h-4" />
            <span class="hidden sm:inline">07835 204800</span>
            <span class="sm:hidden">Mobile</span>
          </a>
          <a href="mailto:srs.24hr@hotmail.com" class="hidden md:flex items-center gap-2 hover:text-primary-200 transition-colors">
            <Mail class="w-4 h-4" />
            <span>srs.24hr@hotmail.com</span>
          </a>
        </div>
        <div class="flex items-center gap-2">
          <Clock class="w-4 h-4" />
          <span>24/7 Emergency Service</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Main navigation -->
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a href="/" class="flex items-center">
        <img
          src="/images/logo.jpg"
          alt="SRS - 24 Hour Stairlift Repair Services"
          class="h-12 w-auto"
        />
      </a>

      <!-- Desktop navigation -->
      <div class="hidden md:flex items-center gap-8">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class:list={[
              'text-sm font-medium transition-colors hover:text-primary-600',
              currentPath === link.href ? 'text-primary-600' : 'text-slate-600'
            ]}
          >
            {link.label}
          </a>
        ))}
      </div>

      <!-- Mobile menu button -->
      <button
        type="button"
        class="md:hidden p-2 text-slate-600 hover:text-primary-600 transition-colors"
        id="mobile-menu-button"
        aria-label="Toggle menu"
      >
        <Menu class="w-6 h-6" id="menu-open-icon" />
        <X class="w-6 h-6 hidden" id="menu-close-icon" />
      </button>
    </div>

    <!-- Mobile navigation -->
    <nav class="hidden md:hidden pb-4" id="mobile-menu" aria-label="Mobile navigation">
      <div class="flex flex-col gap-2">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class:list={[
              'px-4 py-2 rounded-lg text-sm font-medium transition-colors',
              currentPath === link.href
                ? 'bg-primary-50 text-primary-600'
                : 'text-slate-600 hover:bg-slate-50'
            ]}
          >
            {link.mobileLabel}
          </a>
        ))}
      </div>
    </nav>
  </nav>
</header>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const openIcon = document.getElementById('menu-open-icon');
  const closeIcon = document.getElementById('menu-close-icon');

  menuButton?.addEventListener('click', () => {
    const isOpen = !mobileMenu?.classList.contains('hidden');
    mobileMenu?.classList.toggle('hidden');
    openIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });
</script>
